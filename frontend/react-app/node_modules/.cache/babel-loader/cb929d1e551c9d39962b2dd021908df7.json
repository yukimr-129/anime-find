{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useMessage } from \"customHooks/message/useMessage\";\nimport Cookies from \"js-cookie\";\nimport { signOut } from \"lib/api/auth/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport { useRecoilState } from \"recoil\";\nimport { CurrentUser, IsSignedIn } from \"store/auth/Auth\";\nimport { AuthLoding } from \"store/loding/AuthLoding\";\nexport const useSignOut = text => {\n  _s();\n\n  const history = useHistory();\n  const [isSignedIn, setIsSignedIn] = useRecoilState(IsSignedIn);\n  const [authLoding, setAuthLoding] = useRecoilState(AuthLoding);\n  const [currentUser, setCurrentUser] = useRecoilState(CurrentUser);\n  const {\n    showMessage\n  } = useMessage();\n\n  const executionSignOut = async () => {\n    const res = await signOut();\n\n    if (res.data.success === true) {\n      // サインアウト時には各Cookieを削除\n      Cookies.remove(\"_access_token\");\n      Cookies.remove(\"_client\");\n      Cookies.remove(\"_uid\");\n      setIsSignedIn(false);\n      setAuthLoding(true);\n      setCurrentUser(undefined);\n      history.push('/signin');\n      showMessage({\n        title: `${text}`,\n        status: 'info'\n      });\n    }\n  };\n\n  return {\n    executionSignOut\n  };\n};\n\n_s(useSignOut, \"y8YHpJM870XgEZmUFGwjX3Haor4=\", false, function () {\n  return [useHistory, useRecoilState, useRecoilState, useRecoilState, useMessage];\n});","map":{"version":3,"sources":["/usr/src/app/react-app/src/customHooks/auth/useSignOut.ts"],"names":["useMessage","Cookies","signOut","useHistory","useRecoilState","CurrentUser","IsSignedIn","AuthLoding","useSignOut","text","history","isSignedIn","setIsSignedIn","authLoding","setAuthLoding","currentUser","setCurrentUser","showMessage","executionSignOut","res","data","success","remove","undefined","push","title","status"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,gCAA3B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,cAAT,QAA+B,QAA/B;AAEA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,iBAAxC;AACA,SAASC,UAAT,QAA2B,yBAA3B;AAEA,OAAO,MAAMC,UAAU,GAAIC,IAAD,IAAkB;AAAA;;AACxC,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAM,CAAEQ,UAAF,EAAcC,aAAd,IAAgCR,cAAc,CAACE,UAAD,CAApD;AACA,QAAM,CAAEO,UAAF,EAAcC,aAAd,IAA+BV,cAAc,CAACG,UAAD,CAAnD;AACA,QAAM,CAAEQ,WAAF,EAAeC,cAAf,IAAiCZ,cAAc,CAACC,WAAD,CAArD;AACA,QAAM;AAAEY,IAAAA;AAAF,MAAkBjB,UAAU,EAAlC;;AAEA,QAAMkB,gBAAgB,GAAG,YAAW;AAChC,UAAMC,GAAG,GAAG,MAAMjB,OAAO,EAAzB;;AAEA,QAAIiB,GAAG,CAACC,IAAJ,CAASC,OAAT,KAAqB,IAAzB,EAA8B;AACzB;AACDpB,MAAAA,OAAO,CAACqB,MAAR,CAAe,eAAf;AACArB,MAAAA,OAAO,CAACqB,MAAR,CAAe,SAAf;AACArB,MAAAA,OAAO,CAACqB,MAAR,CAAe,MAAf;AAEAV,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,MAAAA,aAAa,CAAC,IAAD,CAAb;AAEAE,MAAAA,cAAc,CAACO,SAAD,CAAd;AACAb,MAAAA,OAAO,CAACc,IAAR,CAAa,SAAb;AAEAP,MAAAA,WAAW,CAAC;AAACQ,QAAAA,KAAK,EAAG,GAAEhB,IAAK,EAAhB;AAAmBiB,QAAAA,MAAM,EAAE;AAA3B,OAAD,CAAX;AACH;AACJ,GAjBD;;AAmBA,SAAO;AAAER,IAAAA;AAAF,GAAP;AACH,CA3BM;;GAAMV,U;UACOL,U,EACsBC,c,EACDA,c,EACEA,c,EACfJ,U","sourcesContent":["import { useMessage } from \"customHooks/message/useMessage\"\nimport Cookies from \"js-cookie\"\nimport { signOut } from \"lib/api/auth/auth\"\nimport { useHistory } from \"react-router-dom\"\nimport { useRecoilState } from \"recoil\"\n\nimport { CurrentUser, IsSignedIn } from \"store/auth/Auth\"\nimport { AuthLoding } from \"store/loding/AuthLoding\"\n\nexport const useSignOut = (text: string) => {\n    const history = useHistory()\n    const [ isSignedIn, setIsSignedIn ] = useRecoilState(IsSignedIn)\n    const [ authLoding, setAuthLoding] = useRecoilState(AuthLoding)\n    const [ currentUser, setCurrentUser] = useRecoilState(CurrentUser)\n    const { showMessage } = useMessage()\n\n    const executionSignOut = async() => {\n        const res = await signOut()\n                \n        if (res.data.success === true){\n             // サインアウト時には各Cookieを削除\n            Cookies.remove(\"_access_token\")\n            Cookies.remove(\"_client\")\n            Cookies.remove(\"_uid\")\n    \n            setIsSignedIn(false)\n            setAuthLoding(true)\n            \n            setCurrentUser(undefined)\n            history.push('/signin')\n    \n            showMessage({title: `${text}`, status: 'info'})\n        }\n    }\n    \n    return { executionSignOut }\n}"]},"metadata":{},"sourceType":"module"}