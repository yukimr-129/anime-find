{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/react-app/src/components/pages/favorites/FavoriteAnimeCard.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, memo } from \"react\";\nimport { Box, Flex, Icon, Image, Link, Tag, Text } from \"@chakra-ui/react\";\nimport { motion, useAnimation } from \"framer-motion\";\nimport Cookies from \"js-cookie\";\nimport { useRecoilState } from \"recoil\";\nimport { useMessage } from \"customHooks/message/useMessage\";\nimport { BsHeartFill, BsHeart } from \"react-icons/bs\";\nimport { client } from \"lib/api/client\";\nimport { IsFavoriteLike } from \"store/IsFavoriteLike\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FavoriteAnimeCard = /*#__PURE__*/memo(_c = _s(props => {\n  _s();\n\n  const {\n    favoriteAnime\n  } = props;\n  const [isLike, setIsLike] = useState(true);\n  const [isFavoriteLike, setIsFavoriteLike] = useRecoilState(IsFavoriteLike);\n  const controls = useAnimation();\n  const {\n    showMessage\n  } = useMessage();\n  const image = favoriteAnime.image_url !== '' ? favoriteAnime.image_url : 'https://lab.esprlog.net/annict/img/no_image.png';\n\n  const toggleLike = () => {\n    try {\n      const deleteLike = async () => {\n        const res = await client.delete(`/favorites/destroy/${favoriteAnime.api_id}`, {\n          headers: {\n            \"access-token\": Cookies.get(\"_access_token\"),\n            \"client\": Cookies.get(\"_client\"),\n            \"uid\": Cookies.get(\"_uid\")\n          }\n        });\n      };\n\n      deleteLike();\n      setIsFavoriteLike(false);\n    } catch (error) {\n      showMessage({\n        title: 'お気に入り削除に失敗しました',\n        status: \"error\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      w: {\n        base: '300px',\n        md: '500px'\n      },\n      h: {\n        base: '240px',\n        md: '330px'\n      },\n      bg: \"white\",\n      borderRadius: \"10px\",\n      m: \"15px 5px\",\n      p: \"0 0 10px 0\",\n      border: \"solid 1px #e0e0e0\",\n      position: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        as: \"a\",\n        href: favoriteAnime.official_url,\n        target: \"_blank\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"block\",\n          m: \"0 0 8px\",\n          overflow: \"hidden\",\n          borderRadius: \"10px 10px 0 0\",\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: image,\n            w: \"calc(100% + 20px)\",\n            objectFit: \"cover\",\n            maxH: {\n              base: '200px',\n              md: '260px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        align: \"flex-start\",\n        m: \"10px 15px 0\",\n        children: [/*#__PURE__*/_jsxDEV(Tag, {\n          size: \"sm\",\n          variant: \"solid\",\n          colorScheme: \"teal\",\n          mr: 2,\n          children: favoriteAnime.media_text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tag, {\n          size: \"sm\",\n          variant: \"solid\",\n          colorScheme: \"teal\",\n          mr: 2,\n          children: favoriteAnime.media_text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          as: \"h1\",\n          fontSize: \"md\",\n          fontWeight: \"800\",\n          children: favoriteAnime.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justify: \"flex-end\",\n        w: \"100%\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          position: \"absolute\",\n          bottom: \"5px\",\n          right: \"5px\",\n          children: /*#__PURE__*/_jsxDEV(motion.div, {\n            onClick: toggleLike,\n            animate: controls,\n            transition: !isLike ? {\n              duration: 0.2,\n              ease: \"easeIn\"\n            } : {\n              duration: 0.6,\n              ease: \"easeIn\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              as: isLike ? BsHeartFill : BsHeart,\n              fontSize: \"20px\",\n              color: isLike ? '#FF1493' : '',\n              cursor: \"pointer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}, \"6Fxru9HU1Qgjj2XFvgK0rZWRgwo=\", false, function () {\n  return [useRecoilState, useAnimation, useMessage];\n}));\n_c2 = FavoriteAnimeCard;\nexport default FavoriteAnimeCard;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FavoriteAnimeCard$memo\");\n$RefreshReg$(_c2, \"FavoriteAnimeCard\");","map":{"version":3,"sources":["/usr/src/app/react-app/src/components/pages/favorites/FavoriteAnimeCard.tsx"],"names":["useState","memo","Box","Flex","Icon","Image","Link","Tag","Text","motion","useAnimation","Cookies","useRecoilState","useMessage","BsHeartFill","BsHeart","client","IsFavoriteLike","FavoriteAnimeCard","props","favoriteAnime","isLike","setIsLike","isFavoriteLike","setIsFavoriteLike","controls","showMessage","image","image_url","toggleLike","deleteLike","res","delete","api_id","headers","get","error","title","status","base","md","official_url","media_text","duration","ease"],"mappings":"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","sourcesContent":["import { useState, VFC, memo } from \"react\";\n\nimport { Box, Flex, Icon, Image, Link, Tag, Text } from \"@chakra-ui/react\";\nimport { motion, useAnimation } from \"framer-motion\";\nimport Cookies from \"js-cookie\";\nimport { useRecoilState } from \"recoil\";\n\nimport { useMessage } from \"customHooks/message/useMessage\";\nimport { BsHeartFill, BsHeart } from \"react-icons/bs\";\nimport { client } from \"lib/api/client\";\nimport { FavoriteType } from \"types/favoriteAnime/FavoriteAnimeType\";\nimport { IsFavoriteLike } from \"store/IsFavoriteLike\";\n\ntype Props = {\n    favoriteAnime: FavoriteType;\n}\n\nconst FavoriteAnimeCard: VFC<Props> = memo((props) => {\n    const { favoriteAnime } = props\n    const [ isLike, setIsLike ] = useState(true)\n    const [ isFavoriteLike, setIsFavoriteLike ] = useRecoilState(IsFavoriteLike)\n    const controls = useAnimation()\n    const { showMessage } = useMessage()\n\n    const image = favoriteAnime.image_url !== '' ? favoriteAnime.image_url : 'https://lab.esprlog.net/annict/img/no_image.png'\n\n    const toggleLike = () => {\n\n        try {\n            const deleteLike = async() => {\n                const res = await client.delete(`/favorites/destroy/${favoriteAnime.api_id}`, { headers: {\n                    \"access-token\": Cookies.get(\"_access_token\"),\n                    \"client\": Cookies.get(\"_client\"),\n                    \"uid\": Cookies.get(\"_uid\")\n                  }})\n            }\n            deleteLike()\n            setIsFavoriteLike(false)\n        } catch (error) {\n            showMessage({title: 'お気に入り削除に失敗しました', status: \"error\"})\n        }\n    }\n\n    return (\n        <>\n            <Box w={{base: '300px', md: '500px'}} h={{base: '240px', md: '330px'}} bg='white' borderRadius='10px' m='15px 5px' p='0 0 10px 0' border='solid 1px #e0e0e0' position='relative'>\n                <Link as='a' href={favoriteAnime.official_url} target='_blank'>\n                    <Box display='block' m='0 0 8px' overflow='hidden' borderRadius='10px 10px 0 0'>\n                        <Image src={image} w='calc(100% + 20px)' objectFit='cover' maxH={{base: '200px', md: '260px'}} />\n                    </Box>\n                </Link>\n                <Flex align='flex-start' m='10px 15px 0'>\n                    <Tag size='sm' variant='solid' colorScheme='teal' mr={2}>\n                        {favoriteAnime.media_text}\n                    </Tag>\n                    <Tag size='sm' variant='solid' colorScheme='teal' mr={2}>\n                            {favoriteAnime.media_text}\n                        </Tag>\n                    <Text as='h1' fontSize=\"md\" fontWeight='800'>{favoriteAnime.title}</Text>\n                </Flex> \n                <Flex justify='flex-end' w='100%'>\n                    <Box position='absolute' bottom='5px' right='5px'>\n                        <motion.div\n                            onClick={toggleLike}\n                            animate={controls}\n                            transition={!isLike ? { duration: 0.2 , ease: \"easeIn\"} : { duration: 0.6 , ease: \"easeIn\"}}\n                        >\n                            <Icon\n                                as={isLike ? BsHeartFill : BsHeart }\n                                fontSize='20px' \n                                color={isLike ? '#FF1493': ''}\n                                cursor='pointer'\n                            />\n                        </motion.div>\n                    </Box>\n                </Flex>\n            </Box>\n        </>\n    )\n})\n\nexport default FavoriteAnimeCard"]},"metadata":{},"sourceType":"module"}