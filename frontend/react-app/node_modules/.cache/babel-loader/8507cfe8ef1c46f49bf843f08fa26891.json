{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { getReviewsList } from \"lib/api/review/review\";\nimport { useRecoilState } from \"recoil\";\nimport { AnimeReviewList } from \"store/AnimeReviewList\";\nimport { useMessage } from \"./message/useMessage\"; // type AnimeApiSearch = () => {\n//     animeLists: AnnictApiType[];\n//     getAnimes: () => Promise<void>;\n// }\n\nexport const useGetAnimeReviews = id => {\n  _s();\n\n  const [reviewsList, setReviewsList] = useRecoilState(AnimeReviewList);\n  const {\n    showMessage\n  } = useMessage();\n  let isMounted = true;\n  useEffect(() => {\n    const getReviews = async id => {\n      try {\n        const res = await getReviewsList(id);\n        console.log(res);\n        setReviewsList(res.data);\n      } catch (error) {\n        showMessage({\n          title: 'アニメ一覧の取得に失敗しました',\n          status: \"error\"\n        });\n      }\n    };\n\n    isMounted && getReviews(id);\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n  return {\n    reviewsList\n  };\n};\n\n_s(useGetAnimeReviews, \"frpnX8kFCJlahuJieeICetoxdEU=\", false, function () {\n  return [useRecoilState, useMessage];\n});","map":{"version":3,"sources":["/usr/src/app/react-app/src/customHooks/useGetAnimeReviews.ts"],"names":["useEffect","getReviewsList","useRecoilState","AnimeReviewList","useMessage","useGetAnimeReviews","id","reviewsList","setReviewsList","showMessage","isMounted","getReviews","res","console","log","data","error","title","status"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,SAASC,eAAT,QAAgC,uBAAhC;AACA,SAASC,UAAT,QAA2B,sBAA3B,C,CAEA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,kBAAkB,GAAIC,EAAD,IAAgB;AAAA;;AAC9C,QAAM,CAAEC,WAAF,EAAeC,cAAf,IAAkCN,cAAc,CAACC,eAAD,CAAtD;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAkBL,UAAU,EAAlC;AAEA,MAAIM,SAAS,GAAG,IAAhB;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMW,UAAU,GAAG,MAAML,EAAN,IAAqB;AACpC,UAAI;AACA,cAAMM,GAAG,GAAG,MAAMX,cAAc,CAACK,EAAD,CAAhC;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAEAJ,QAAAA,cAAc,CAACI,GAAG,CAACG,IAAL,CAAd;AAEH,OAND,CAME,OAAOC,KAAP,EAAc;AACZP,QAAAA,WAAW,CAAC;AAACQ,UAAAA,KAAK,EAAE,iBAAR;AAA2BC,UAAAA,MAAM,EAAE;AAAnC,SAAD,CAAX;AACH;AACJ,KAVD;;AAYAR,IAAAA,SAAS,IAAIC,UAAU,CAACL,EAAD,CAAvB;AAEA,WAAO,MAAM;AAAEI,MAAAA,SAAS,GAAG,KAAZ;AAAmB,KAAlC;AACH,GAhBQ,EAgBN,EAhBM,CAAT;AAoBA,SAAO;AAAEH,IAAAA;AAAF,GAAP;AACH,CA3BM;;GAAMF,kB;UAC+BH,c,EAChBE,U","sourcesContent":["import { useEffect } from \"react\"\nimport { getReviewsList } from \"lib/api/review/review\"\nimport { useRecoilState } from \"recoil\"\nimport { AnimeReviewList } from \"store/AnimeReviewList\"\nimport { useMessage } from \"./message/useMessage\"\n\n// type AnimeApiSearch = () => {\n//     animeLists: AnnictApiType[];\n//     getAnimes: () => Promise<void>;\n// }\n\nexport const useGetAnimeReviews = (id: string) => {\n    const [ reviewsList, setReviewsList ] = useRecoilState(AnimeReviewList)\n    const { showMessage } = useMessage()\n\n    let isMounted = true\n\n    useEffect(() => {\n        const getReviews = async(id: string) => {\n            try {\n                const res = await getReviewsList(id)\n                console.log(res);\n                \n                setReviewsList(res.data)\n                \n            } catch (error) {\n                showMessage({title: 'アニメ一覧の取得に失敗しました', status: \"error\"})\n            }\n        }\n\n        isMounted && getReviews(id)\n\n        return () => { isMounted = false }\n    }, [])\n\n\n\n    return { reviewsList }\n}"]},"metadata":{},"sourceType":"module"}