{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/react-app/src/components/pages/favorites/FavoriteAnimeCard.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Flex, Icon, Image, Link, Text } from \"@chakra-ui/react\";\nimport { useMessage } from \"customHooks/message/useMessage\";\nimport { motion, useAnimation } from \"framer-motion\";\nimport Cookies from \"js-cookie\";\nimport { client } from \"lib/api/client\";\nimport { useState, useEffect } from \"react\";\nimport { BsHeartFill, BsHeart } from \"react-icons/bs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FavoriteAnimeCard = props => {\n  _s();\n\n  var _favoriteAnime$image_;\n\n  const {\n    favoriteAnime\n  } = props;\n  const [isLike, setIsLike] = useState(true);\n  const controls = useAnimation();\n  const {\n    showMessage\n  } = useMessage();\n  const image = (_favoriteAnime$image_ = favoriteAnime.image_url) !== null && _favoriteAnime$image_ !== void 0 ? _favoriteAnime$image_ : 'https://lab.esprlog.net/annict/img/no_image.png';\n\n  const toggleLike = () => {\n    setIsLike(!isLike);\n\n    if (!isLike) {\n      controls.start({\n        scale: [0, 0.5, 1]\n      });\n    } else {\n      controls.start({\n        translateX: [0, 0, 0, -7, 0, -7, 0, 0]\n      });\n    }\n\n    try {\n      const deleteLike = async () => {\n        const res = await client.delete(`/favorites/destroy/${favoriteAnime.api_id}`, {\n          headers: {\n            \"access-token\": Cookies.get(\"_access_token\"),\n            \"client\": Cookies.get(\"_client\"),\n            \"uid\": Cookies.get(\"_uid\")\n          }\n        });\n        console.log(res);\n      };\n    } catch (error) {\n      showMessage({\n        title: 'お気に入り削除に失敗しました',\n        status: \"error\"\n      });\n    }\n  };\n\n  useEffect(() => {\n    let isMounted = true;\n\n    const getLikeAnime = async () => {\n      const isLikeData = await client.get(`/favorites/confirm/${favoriteAnime.api_id}`, {\n        headers: {\n          \"access-token\": Cookies.get(\"_access_token\"),\n          \"client\": Cookies.get(\"_client\"),\n          \"uid\": Cookies.get(\"_uid\")\n        }\n      });\n      console.log(isLikeData.data);\n      let isLike = isLikeData.data;\n      setIsLike(isLike);\n    };\n\n    if (isMounted) getLikeAnime();\n    return () => {\n      isMounted = false;\n    };\n  }, [isLike]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      w: {\n        base: '365px',\n        md: '500px'\n      },\n      h: {\n        base: '280px',\n        md: '330px'\n      },\n      bg: \"white\",\n      borderRadius: \"10px\",\n      m: \"15px 5px\",\n      p: \"0 0 10px 0\",\n      border: \"solid 1px #e0e0e0\",\n      position: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        as: \"a\",\n        href: favoriteAnime.official_url,\n        target: \"_blank\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"block\",\n          m: \"0 0 8px\",\n          overflow: \"hidden\",\n          borderRadius: \"10px 10px 0 0\",\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: image,\n            w: \"calc(100% + 20px)\",\n            objectFit: \"cover\",\n            maxH: {\n              base: '200px',\n              md: '260px'\n            },\n            _hover: {\n              filter: 'blur(3px)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: /*#__PURE__*/_jsxDEV(Text, {\n              opacity: \"0\",\n              color: \"red\",\n              fontWeight: \"700\",\n              fontSize: \"25px\",\n              position: \"absolute\",\n              top: \"40%\",\n              right: \"30%\",\n              children: \"View Official Site\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        align: \"flex-start\",\n        m: \"10px 15px 0\",\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          as: \"h1\",\n          fontSize: \"md\",\n          fontWeight: \"800\",\n          children: favoriteAnime.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        justify: \"flex-end\",\n        w: \"100%\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          position: \"absolute\",\n          bottom: \"5px\",\n          right: \"5px\",\n          children: /*#__PURE__*/_jsxDEV(motion.div, {\n            onClick: toggleLike,\n            animate: controls,\n            transition: !isLike ? {\n              duration: 0.2,\n              ease: \"easeIn\"\n            } : {\n              duration: 0.6,\n              ease: \"easeIn\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              as: isLike ? BsHeartFill : BsHeart,\n              fontSize: \"20px\",\n              color: isLike ? '#FF1493' : '',\n              cursor: \"pointer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(FavoriteAnimeCard, \"m6dAD1Kk0NPT0wzWuCzXUym5i+k=\", false, function () {\n  return [useAnimation, useMessage];\n});\n\n_c = FavoriteAnimeCard;\nexport default FavoriteAnimeCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoriteAnimeCard\");","map":{"version":3,"sources":["/usr/src/app/react-app/src/components/pages/favorites/FavoriteAnimeCard.tsx"],"names":["Box","Flex","Icon","Image","Link","Text","useMessage","motion","useAnimation","Cookies","client","useState","useEffect","BsHeartFill","BsHeart","FavoriteAnimeCard","props","favoriteAnime","isLike","setIsLike","controls","showMessage","image","image_url","toggleLike","start","scale","translateX","deleteLike","res","delete","api_id","headers","get","console","log","error","title","status","isMounted","getLikeAnime","isLikeData","data","base","md","official_url","filter","duration","ease"],"mappings":"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","sourcesContent":["import { Box, Flex, Icon, Image, Link, Text } from \"@chakra-ui/react\";\nimport { useMessage } from \"customHooks/message/useMessage\";\nimport { motion, useAnimation } from \"framer-motion\";\nimport Cookies from \"js-cookie\";\nimport { client } from \"lib/api/client\";\nimport { useState, useEffect, VFC } from \"react\";\nimport { BsHeartFill, BsHeart } from \"react-icons/bs\";\nimport { FavoriteType } from \"types/FavoriteAnime/FavoriteAnimeType\";\n\ntype Props = {\n    favoriteAnime: FavoriteType;\n}\n\nconst FavoriteAnimeCard: VFC<Props> = (props) => {\n    const { favoriteAnime } = props\n    const [ isLike, setIsLike ] = useState(true)\n    const controls = useAnimation()\n    const { showMessage } = useMessage()\n\n    const image = favoriteAnime.image_url ?? 'https://lab.esprlog.net/annict/img/no_image.png'\n\n    const toggleLike = () => {\n        setIsLike(!isLike)\n        \n        if(!isLike) {\n            controls.start({ scale: [0, 0.5, 1] })\n        }else {\n            controls.start({ translateX: [0, 0, 0, -7, 0, -7, 0, 0] })\n        }\n\n        try {\n            const deleteLike = async() => {        \n                const res = await client.delete(`/favorites/destroy/${favoriteAnime.api_id}`, { headers: {\n                    \"access-token\": Cookies.get(\"_access_token\"),\n                    \"client\": Cookies.get(\"_client\"),\n                    \"uid\": Cookies.get(\"_uid\")\n                  }})\n                console.log(res);\n            }\n        } catch (error) {\n            showMessage({title: 'お気に入り削除に失敗しました', status: \"error\"})\n        }\n    }\n\n    useEffect(() => {\n        let isMounted = true\n        const getLikeAnime = async() => {\n            const isLikeData = await client.get(`/favorites/confirm/${favoriteAnime.api_id}`, { headers: {\n                \"access-token\": Cookies.get(\"_access_token\"),\n                \"client\": Cookies.get(\"_client\"),\n                \"uid\": Cookies.get(\"_uid\")\n                }})\n                console.log(isLikeData.data);\n                let isLike = isLikeData.data\n                setIsLike(isLike)\n        }\n        if(isMounted) getLikeAnime()\n        \n        return () => {\n            isMounted = false\n        }\n    }, [isLike])\n\n    return (\n        <>\n            <Box w={{base: '365px', md: '500px'}} h={{base: '280px', md: '330px'}} bg='white' borderRadius='10px' m='15px 5px' p='0 0 10px 0' border='solid 1px #e0e0e0' position='relative'>\n                <Link as='a' href={favoriteAnime.official_url} target='_blank'>\n                    <Box display='block' m='0 0 8px' overflow='hidden' borderRadius='10px 10px 0 0'>\n                        {/* <motion.div  whileHover={{opacity: 1, scale: 1.1, transition: { duration: 0.3 }}} >\n                            <Image src={image}  w='calc(100% + 20px)' objectFit='cover' maxH={{base: '200px', md: '260px'}} _hover={{filter: 'blur(3px)'}} />\n                        </motion.div> */}\n                        <Image src={image} w='calc(100% + 20px)' objectFit='cover' maxH={{base: '200px', md: '260px'}} _hover={{filter: 'blur(3px)'}} />\n\n                        <Box>\n                            <Text opacity='0'color='red' fontWeight='700' fontSize='25px' position='absolute' top='40%' right='30%'>View Official Site</Text>\n                        </Box>\n                    </Box>\n                </Link>\n                <Flex align='flex-start' m='10px 15px 0'>\n                    <Text as='h1' fontSize=\"md\" fontWeight='800'>{favoriteAnime.title}</Text>\n                </Flex> \n                <Flex justify='flex-end' w='100%'>\n                    <Box position='absolute' bottom='5px' right='5px'>\n                        <motion.div\n                            onClick={toggleLike}\n                            animate={controls}\n                            transition={!isLike ? { duration: 0.2 , ease: \"easeIn\"} : { duration: 0.6 , ease: \"easeIn\"}}\n                        >\n                            <Icon\n                                as={isLike ? BsHeartFill : BsHeart }\n                                fontSize='20px' \n                                color={isLike ? '#FF1493': ''}\n                                cursor='pointer'\n                            />\n                        </motion.div>\n                    </Box>\n                </Flex>\n            </Box>\n        </>\n    )\n}\n\nexport default FavoriteAnimeCard"]},"metadata":{},"sourceType":"module"}